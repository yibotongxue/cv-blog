---
head:
  - - link
    - rel: stylesheet
      href: https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css
---

# 使用3D高斯进行密集RGB-D同时定位与建图

本文介绍使用3D高斯进行密集RGB-D同时定位与建图（SplaTAM）的基本内容，主要参考[论文](https://arxiv.org/abs/2312.02126)和[知乎文章](https://zhuanlan.zhihu.com/p/676461713)。本文不再赘述高斯溅射相关的内容，这部分内容可以看我的[上一篇笔记](./gaussian-splatting-slam)，本文主要介绍 SLAM 部分的实现。这里的内容实际上和[上一篇笔记](./gaussian-splatting-slam)有许多重复，这里主要从 SLAM 的角度再次重复一下。

## 初始化

对于第一帧，我们不需要进行跟踪，由于我们把世界坐标系建在第一帧的相机坐标系，因而相机位姿设置为恒等变换。当前的高斯地图为空，我们用所有像素来初始化高斯，具体来说，每一个像素建立一个高斯，颜色为像素的颜色，中心为相机与像素射线上对应深度值的三维点，不透明度为 $0.5$ ，半径设置为可以时的高斯球在2D图像中投影时具有一个像素半径，可以通过深度除以焦距计算。

## 相机跟踪

相机跟踪，对应的实际上是定位问题，相机的相对运动可以根据两个时刻的相机位姿计算出来。根据之前的相机位姿预测当前的相机位姿进行初始化（比如上一个相机位姿加上上一个时间布的相对运动），最小化几何深度损失和光度误差等，通过梯度下降更新相机位姿。

## 高斯密集化

对于那些高斯不够密集且深度预测值与实际值相差相较于深度中位值较大的，需要添加一个新的高斯分布。

## 高斯图更新

建立高斯图实际上就是 SLAM 问题中建图问题。高斯图更新与相机跟踪中的类似通过梯度下降实现，但相机位姿此时是固定的。这里有两个需要注意的地方，一是后续的时间步中高斯图不是从零开始构建，而是从上一个构建的图开始暖启动；二是我们也不会优化所有之前的关键帧，而是选择 $k$ 个帧，当前帧、最近的关键帧和与当前帧重叠度最高的 $k-2$ 个先前关键帧。关键帧的选取使用每隔 $n$ 个帧选择一个关键帧。
